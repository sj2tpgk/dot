#!/bin/sh
if [ $# -eq 1 ] && [ "${1#!}" != "$1" ]; then
    set -- "$(command -v "${1#!}")"
fi
if command -v nvim >/dev/null; then
    if [ "$TMUX_ROOT" ]; then
        SHELL=sh exec nvim -u "$TMUX_ROOT/vimrc" "$@"
    else
        SHELL=sh exec nvim "$@"
    fi
elif command -v vim >/dev/null; then
    if [ "$TMUX_ROOT" ]; then
        SHELL=sh exec vim -u "$TMUX_ROOT/vimrc" "$@"
    else
        SHELL=sh exec vim "$@"
    fi
elif command -v nano >/dev/null; then
    exec nano "$@"
elif command -v emacs >/dev/null; then
    exec emacs -nw -Q --color=yes "$@"
elif command -v vi >/dev/null; then
    exec vi "$@"
else
    echo "No editor found"
fi
